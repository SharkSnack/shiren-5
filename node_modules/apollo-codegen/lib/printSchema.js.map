{"version":3,"sources":["../src/printSchema.js"],"names":["schemaPath","outputPath","existsSync","schemaJSON","JSON","parse","readFileSync","data","schema","schemaIDL","writeFileSync","console","log","printSchemaFromIntrospectionResult"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AAEA;;AAEA;;;;;wEAEe,iBAAkDA,UAAlD,EAA8DC,UAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACR,aAAGC,UAAH,CAAcF,UAAd,CADQ;AAAA;AAAA;AAAA;;AAAA,kBAEL,sBAAe,oCAAmCA,UAAW,EAA7D,CAFK;;AAAA;AAKPG,sBALO,GAKMC,KAAKC,KAAL,CAAW,aAAGC,YAAH,CAAgBN,UAAhB,EAA4B,MAA5B,CAAX,CALN;;AAAA,gBAORG,WAAWI,IAPH;AAAA;AAAA;AAAA;;AAAA,kBAQL,sBAAe,gDAA+CP,UAAW,EAAzE,CARK;;AAAA;AAWPQ,kBAXO,GAWE,gCAAkBL,WAAWI,IAA7B,CAXF;AAYPE,qBAZO,GAYK,0BAAYD,MAAZ,CAZL;;;AAcb,gBAAIP,UAAJ,EAAgB;AACd,2BAAGS,aAAH,CAAiBT,UAAjB,EAA6BQ,SAA7B;AACD,aAFD,MAEO;AACLE,sBAAQC,GAAR,CAAYH,SAAZ;AACD;;AAlBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeI,kC;;;;SAAAA,kC","file":"printSchema.js","sourcesContent":["import fs from 'fs';\n\nimport { buildClientSchema, printSchema } from 'graphql';\n\nimport { ToolError } from './errors'\n\nexport default async function printSchemaFromIntrospectionResult(schemaPath, outputPath) {\n  if (!fs.existsSync(schemaPath)) {\n    throw new ToolError(`Cannot find GraphQL schema file: ${schemaPath}`);\n  }\n\n  const schemaJSON = JSON.parse(fs.readFileSync(schemaPath, 'utf8'));\n\n  if (!schemaJSON.data) {\n    throw new ToolError(`No introspection query result data found in: ${schemaPath}`);\n  }\n\n  const schema = buildClientSchema(schemaJSON.data);\n  const schemaIDL = printSchema(schema);\n\n  if (outputPath) {\n    fs.writeFileSync(outputPath, schemaIDL);\n  } else {\n    console.log(schemaIDL);\n  }\n}\n"]}